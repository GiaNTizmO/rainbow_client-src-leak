package slavikcodd3r.rainbow.module.modules.exploits;

import net.minecraft.client.Minecraft;
import net.minecraft.network.play.client.C03PacketPlayer;
import slavikcodd3r.rainbow.event.EventTarget;
import slavikcodd3r.rainbow.event.MouseEvent;
import slavikcodd3r.rainbow.event.events.TickEvent;
import slavikcodd3r.rainbow.event.events.UpdateEvent;
import slavikcodd3r.rainbow.module.Module;
import slavikcodd3r.rainbow.option.Option;
import slavikcodd3r.rainbow.option.OptionManager;

@Module.Mod(displayName = "Syncer")
public class Syncer extends Module
{   
    @Option.Op(name = "PosX", min = -1000, max = 1000, increment = 1)
    public double PosX;
    @Option.Op(name = "PosY", min = -1000, max = 1000, increment = 1)
    public double PosY;
    @Option.Op(name = "PosZ", min = -1000, max = 1000, increment = 1)
    public double PosZ;
    @Option.Op(name = "Delay", min = 1, max = 20, increment = 1)
    public long delay;
    @Option.Op(name = "OnGround")
    public boolean onground;
	Minecraft mc = Minecraft.getMinecraft();
	
    public Syncer() {
        this.PosX = 0;
        this.PosY = 0;
        this.PosZ = 0;
        this.delay = 1;
        this.onground = true;
    }
	
	@EventTarget
    private void onUpdate(final UpdateEvent event) {
        if (mc.thePlayer.ticksExisted % delay == 0.0) {
        if (this.onground) {
		mc.thePlayer.sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(mc.thePlayer.posX + PosX, mc.thePlayer.posY + PosY, mc.thePlayer.posZ + PosZ, mc.thePlayer.rotationYaw, mc.thePlayer.rotationPitch, true));
        } else {
        mc.thePlayer.sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(mc.thePlayer.posX + PosX, mc.thePlayer.posY + PosY, mc.thePlayer.posZ + PosZ, mc.thePlayer.rotationYaw, mc.thePlayer.rotationPitch, false));
        }
        }
	}
}
